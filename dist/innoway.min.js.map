{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///innoway.min.js","webpack:///webpack/bootstrap 812b44603ffc03dce8d7","webpack:///./src/configs/server.config.ts","webpack:///./src/configs/customer.config.ts","webpack:///./src/configs/employee.config.ts","webpack:///./src/configs/fb.config.ts","webpack:///./src/configs/google.config.ts","webpack:///./src/constants/customer.const.ts","webpack:///./src/customer.ts","webpack:///./src/employee.ts","webpack:///./src/module.ts"],"names":["root","factory","exports","module","define","amd","innoway","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","ServerConfig","host","filesPath","apiPath","FBAPI","GoogleAPI","APIPath","server_config_1","CustomerConfig","authTokenStorage","cardsStorage","loginUrl","signUpUrl","updateCustomerUrl","getBillsUrl","getBillUrl","getAllProductsUrl","sendBillUrl","addFeedbackUrl","getPromotionsUrl","getCustomerUrl","getBlogsUrl","EmployeeConfig","GetAllCategoryUrl","FBConfig","d","document","s","window","fbAsyncInit","FB","init","appId","xfbml","version","AppEvents","logPageView","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","GoogleConfig","meta","name","content","async","onload","gapi","load","auth2","CustomerEvents","AuthStateChange","CustomerEdited","CardsChange","BillStatus","NOT_DELIVERING","WAITING","DELIVERING","PAYED","DELETED","UNKNOW","customer_config_1","customer_const_1","fb_config_1","google_config_1","Customer","token","authenticated","localStorage","getItem","loginWithToken","prototype","requiedAuthenticate","callback","login","phone","password","_this","$","ajax","type","url","dataType","data","Phone","Password","done","res","StatusCode","user","Data","_token","Token","trigger","setItem","StatusMessage","fail","request","err","status","headers","loginWithGoogle","self","getAuthInstance","signIn","then","profile","getUserWithProvider","getId","error","loginWithFacebook","response","authResponse","getUserID","provider","form","FormData","append","settings","crossDomain","method","processData","contentType","mimeType","success","result","resJson","JSON","parse","responseText","logout","signOut","removeItem","signUp","fullName","email","signUpWithProvider","update","getCards","cards","saveCards","stringify","addToCard","product","existedIndex","existed","filter","pr","index","Id","length","Quantity","push","removeCard","splice","clearCard","decreaseCard","getBills","forEach","bill","Status","billStatus","getBillDetail","billId","PromotionId","Promotion","BillDetails","ProductThumb","sendBill","latitude","longitude","details","promotionCode","address","area","console","log","getPromotions","promotion","Photo","getAllProducts","Thumbnail","getAllBlogs","events","employee_config_1","Employee","getAllCategory","customer_1","employee_1"],"mappings":"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","file":"innoway.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"innoway\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"innoway\"] = factory();\n\telse\n\t\troot[\"innoway\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"innoway\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"innoway\"] = factory();\n\telse\n\t\troot[\"innoway\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(9);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\texports.ServerConfig = {\n\t    host: 'http://phincafe.vn',\n\t    filesPath: '/uploads/',\n\t    apiPath: '/apis/v1/',\n\t    FBAPI: '893757327425340',\n\t    GoogleAPI: '235416124042-2papc83kbjf14g3m9on0cal3bmihdqm9.apps.googleusercontent.com' //Local\n\t};\n\texports.APIPath = exports.ServerConfig.host + exports.ServerConfig.apiPath;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar server_config_1 = __webpack_require__(1);\n\texports.CustomerConfig = {\n\t    //KEYS\n\t    authTokenStorage: 'innoway.Customer.auth.token',\n\t    cardsStorage: 'innoway.Customer.cards',\n\t    //API\n\t    loginUrl: server_config_1.APIPath + 'CustomerLogin',\n\t    signUpUrl: server_config_1.APIPath + 'Register',\n\t    updateCustomerUrl: server_config_1.APIPath + 'EditCustomer',\n\t    getBillsUrl: server_config_1.APIPath + 'GetListBillFromCustomer',\n\t    getBillUrl: server_config_1.APIPath + 'GetBill',\n\t    getAllProductsUrl: server_config_1.APIPath + 'GetAllProduct',\n\t    sendBillUrl: server_config_1.APIPath + 'SendBill',\n\t    addFeedbackUrl: server_config_1.APIPath + 'AddFeedback',\n\t    getPromotionsUrl: server_config_1.APIPath + 'Promotions',\n\t    getCustomerUrl: server_config_1.APIPath + 'GetCustomer',\n\t    getBlogsUrl: server_config_1.ServerConfig.host + '/blog/wp-json/posts',\n\t};\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar server_config_1 = __webpack_require__(1);\n\texports.EmployeeConfig = {\n\t    GetAllCategoryUrl: server_config_1.APIPath + 'GetAllCategory',\n\t};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar server_config_1 = __webpack_require__(1);\n\t//Facebook Config\n\texports.FBConfig = function () {\n\t    var d = document;\n\t    var s = 'script';\n\t    var id = 'facebook-jssdk';\n\t    window.fbAsyncInit = function () {\n\t        FB.init({\n\t            appId: server_config_1.ServerConfig.FBAPI,\n\t            xfbml: true,\n\t            version: 'v2.9'\n\t        });\n\t        FB.AppEvents.logPageView();\n\t    };\n\t    var js, fjs = d.getElementsByTagName(s)[0];\n\t    if (d.getElementById(id)) {\n\t        return;\n\t    }\n\t    js = d.createElement(s);\n\t    js.id = id;\n\t    js.src = \"//connect.facebook.net/en_US/sdk.js\";\n\t    fjs.parentNode.insertBefore(js, fjs);\n\t};\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar server_config_1 = __webpack_require__(1);\n\texports.GoogleConfig = function () {\n\t    var d = document;\n\t    var s = 'script';\n\t    var id = 'google-jssdk';\n\t    var m = d.getElementsByTagName('head')[0];\n\t    var meta = d.createElement('meta');\n\t    meta.name = 'google-signin-client_id';\n\t    meta.content = server_config_1.ServerConfig.GoogleAPI;\n\t    m.parentNode.insertBefore(meta, m);\n\t    var js, fjs = d.getElementsByTagName(s)[0];\n\t    if (d.getElementById(id)) {\n\t        return;\n\t    }\n\t    js = d.createElement(s);\n\t    js.id = id;\n\t    js.src = \"https://apis.google.com/js/api.js\";\n\t    js.async = true;\n\t    js.onload = function () {\n\t        gapi.load('auth2', function () {\n\t            // Initialize `auth2`\n\t            gapi.auth2.init();\n\t        });\n\t    };\n\t    fjs.parentNode.insertBefore(js, fjs);\n\t};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\texports.CustomerEvents = {\n\t    AuthStateChange: 'AuthStateChange',\n\t    CustomerEdited: 'CustomerEdited',\n\t    //CARD EVENT\n\t    CardsChange: 'CardsChange',\n\t};\n\texports.BillStatus = {\n\t    NOT_DELIVERING: \"Đang điều phối\",\n\t    WAITING: \"Đã điều phối\",\n\t    DELIVERING: \"Đang giao\",\n\t    PAYED: \"Đã thanh toán\",\n\t    DELETED: \"Đã huỷ\",\n\t    UNKNOW: \"Không xác định\"\n\t};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar customer_config_1 = __webpack_require__(2);\n\tvar server_config_1 = __webpack_require__(1);\n\tvar customer_const_1 = __webpack_require__(6);\n\tvar fb_config_1 = __webpack_require__(4);\n\tvar google_config_1 = __webpack_require__(5);\n\tfb_config_1.FBConfig();\n\tgoogle_config_1.GoogleConfig();\n\tvar Customer = (function () {\n\t    function Customer(token) {\n\t        //Check FB Login\n\t        //Check Google Login\n\t        if (token === void 0) { token = null; }\n\t        this.authenticated = false;\n\t        if (this instanceof Customer) {\n\t            if (token == null) {\n\t                token = localStorage.getItem(customer_config_1.CustomerConfig.authTokenStorage);\n\t            }\n\t            if (token != null) {\n\t                this.loginWithToken(token);\n\t            }\n\t        }\n\t    }\n\t    Customer.prototype.requiedAuthenticate = function (callback) {\n\t        if (callback === void 0) { callback = function () { }; }\n\t        if (!this.authenticated) {\n\t            callback('PERMISSION ERROR', \"You don't have permission to access\");\n\t        }\n\t        return this.authenticated;\n\t    };\n\t    //====== Auth\n\t    //LOGIN\n\t    Customer.prototype.login = function (phone, password, callback) {\n\t        var _this = this;\n\t        if (callback === void 0) { callback = function () { }; }\n\t        $.ajax({\n\t            type: 'POST',\n\t            url: customer_config_1.CustomerConfig.loginUrl,\n\t            dataType: 'json',\n\t            data: {\n\t                Phone: phone,\n\t                Password: password\n\t            }\n\t        })\n\t            .done(function (res) {\n\t            if (res.StatusCode === 200) {\n\t                _this.user = res.Data;\n\t                _this._token = res.Data.Token;\n\t                _this.authenticated = true;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                localStorage.setItem(customer_config_1.CustomerConfig.authTokenStorage, res.Data.Token);\n\t                callback(null, res.Data);\n\t            }\n\t            else {\n\t                _this.authenticated = false;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                callback(res.StatusCode, res.StatusMessage);\n\t            }\n\t        })\n\t            .fail(function (request, err, status) {\n\t            _this.authenticated = false;\n\t            $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t            callback(err, status);\n\t        });\n\t    };\n\t    //GET CUSTOMER\n\t    Customer.prototype.loginWithToken = function (token, callback) {\n\t        var _this = this;\n\t        if (callback === void 0) { callback = function () { }; }\n\t        $.ajax({\n\t            type: 'POST',\n\t            url: customer_config_1.CustomerConfig.getCustomerUrl,\n\t            dataType: 'json',\n\t            headers: {\n\t                'token': token\n\t            }\n\t        })\n\t            .done(function (res) {\n\t            if (res.StatusCode === 200) {\n\t                _this.user = res.Data;\n\t                _this._token = res.Data.Token;\n\t                _this.authenticated = true;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                localStorage.setItem(customer_config_1.CustomerConfig.authTokenStorage, res.Data.Token);\n\t                callback(null, res.Data);\n\t            }\n\t            else {\n\t                _this.authenticated = false;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                callback(res.StatusCode, res.StatusMessage);\n\t            }\n\t        })\n\t            .fail(function (request, err, status) {\n\t            _this.authenticated = false;\n\t            $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t            callback(err, status);\n\t        });\n\t    };\n\t    //LOGIN WITH GOOGLE\n\t    Customer.prototype.loginWithGoogle = function (callback) {\n\t        if (callback === void 0) { callback = function () { }; }\n\t        var self = this;\n\t        var auth2 = gapi.auth2.getAuthInstance();\n\t        // Sign-In\n\t        auth2.signIn()\n\t            .then(function (profile) {\n\t            // var idToken = profile.getAuthResponse().id_token;\n\t            // callback(null,profile.getId());\n\t            self.getUserWithProvider('google', profile.getId(), callback);\n\t        }, function (error) {\n\t            callback('Authentication failed.', error);\n\t        });\n\t    };\n\t    //LOGIN WITH FACEBOOK\n\t    Customer.prototype.loginWithFacebook = function (callback) {\n\t        if (callback === void 0) { callback = function () { }; }\n\t        var self = this;\n\t        FB.login(function (response) {\n\t            if (response.authResponse) {\n\t                // callback(null,FB.getAccessToken());\n\t                // callback(null,FB.getUserID());\n\t                self.getUserWithProvider('facebook', FB.getUserID(), callback);\n\t            }\n\t            else {\n\t                callback('User cancelled login or did not fully authorize.', null);\n\t            }\n\t        });\n\t    };\n\t    Customer.prototype.getUserWithProvider = function (provider, token, callback) {\n\t        var _this = this;\n\t        if (callback === void 0) { callback = function () { }; }\n\t        var form = new FormData();\n\t        form.append(\"Method\", provider);\n\t        form.append(\"Token\", token);\n\t        var settings = {\n\t            \"async\": true,\n\t            \"crossDomain\": true,\n\t            \"url\": customer_config_1.CustomerConfig.loginUrl,\n\t            \"method\": \"POST\",\n\t            \"processData\": false,\n\t            \"contentType\": false,\n\t            \"mimeType\": \"multipart/form-data\",\n\t            \"data\": form,\n\t            success: function (result, status, res) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                if (resJson.StatusCode === 200) {\n\t                    _this.user = resJson.Data;\n\t                    _this._token = resJson.Data.Token;\n\t                    _this.authenticated = true;\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                    localStorage.setItem(customer_config_1.CustomerConfig.authTokenStorage, resJson.Data.Token);\n\t                    callback(null, resJson.Data);\n\t                }\n\t                else {\n\t                    _this.authenticated = false;\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                    callback('User not signup', token);\n\t                }\n\t            },\n\t            error: function (res, status, err) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                _this.authenticated = false;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                callback('User not signup', token);\n\t            }\n\t        };\n\t        $.ajax(settings);\n\t    };\n\t    //LOGOUT\n\t    Customer.prototype.logout = function () {\n\t        FB.logout();\n\t        // Get `GoogleAuth` instance\n\t        var auth2 = gapi.auth2.getAuthInstance();\n\t        auth2.signOut();\n\t        localStorage.removeItem(customer_config_1.CustomerConfig.authTokenStorage);\n\t        this._token = null;\n\t        this.user = null;\n\t        this.authenticated = false;\n\t    };\n\t    //SIGNUP\n\t    Customer.prototype.signUp = function (data, callback) {\n\t        var _this = this;\n\t        if (callback === void 0) { callback = function () { }; }\n\t        var form = new FormData();\n\t        form.append(\"Phone\", data.phone);\n\t        form.append(\"Password\", data.password);\n\t        form.append(\"Fullname\", data.fullName);\n\t        form.append(\"Email\", data.email);\n\t        form.append(\"FacebookToken\", \"\");\n\t        form.append(\"GoogleToken\", \"\");\n\t        var settings = {\n\t            async: true,\n\t            crossDomain: true,\n\t            url: customer_config_1.CustomerConfig.signUpUrl,\n\t            method: \"POST\",\n\t            processData: false,\n\t            contentType: false,\n\t            mimeType: \"multipart/form-data\",\n\t            data: form,\n\t            success: function (result, status, res) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                if (resJson.StatusCode === 200) {\n\t                    _this.user = resJson.Data;\n\t                    _this._token = resJson.Data.Token;\n\t                    _this.authenticated = true;\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                    localStorage.setItem(customer_config_1.CustomerConfig.authTokenStorage, resJson.Data.Token);\n\t                    callback(null, resJson.Data);\n\t                }\n\t                else {\n\t                    _this.authenticated = false;\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                    callback(resJson.StatusCode, resJson.StatusMessage);\n\t                }\n\t            },\n\t            error: function (res, status, err) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                _this.authenticated = false;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                callback(resJson.StatusCode, resJson.StatusMessage);\n\t            }\n\t        };\n\t        $.ajax(settings);\n\t    };\n\t    Customer.prototype.signUpWithProvider = function (provider, token, data, callback) {\n\t        var _this = this;\n\t        if (callback === void 0) { callback = function () { }; }\n\t        var form = new FormData();\n\t        form.append(\"Phone\", data.phone);\n\t        form.append(\"Password\", \"\");\n\t        form.append(\"Fullname\", data.fullName);\n\t        form.append(\"Email\", data.email);\n\t        switch (provider) {\n\t            case 'facebook':\n\t                form.append(\"FacebookToken\", token);\n\t                form.append(\"GoogleToken\", \"\");\n\t                break;\n\t            case 'google':\n\t                form.append(\"FacebookToken\", \"\");\n\t                form.append(\"GoogleToken\", token);\n\t                break;\n\t        }\n\t        var settings = {\n\t            async: true,\n\t            crossDomain: true,\n\t            url: customer_config_1.CustomerConfig.signUpUrl,\n\t            method: \"POST\",\n\t            processData: false,\n\t            contentType: false,\n\t            mimeType: \"multipart/form-data\",\n\t            data: form,\n\t            success: function (result, status, res) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                if (resJson.StatusCode === 200) {\n\t                    _this.user = resJson.Data;\n\t                    _this._token = resJson.Data.Token;\n\t                    _this.authenticated = true;\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                    localStorage.setItem(customer_config_1.CustomerConfig.authTokenStorage, resJson.Data.Token);\n\t                    callback(null, resJson.Data);\n\t                }\n\t                else {\n\t                    _this.authenticated = false;\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                    callback(resJson.StatusCode, resJson.StatusMessage);\n\t                }\n\t            },\n\t            error: function (res, status, err) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                _this.authenticated = false;\n\t                $(_this).trigger(customer_const_1.CustomerEvents.AuthStateChange, _this.authenticated);\n\t                callback(resJson.StatusCode, resJson.StatusMessage);\n\t            }\n\t        };\n\t        $.ajax(settings);\n\t    };\n\t    //Update Customer\n\t    Customer.prototype.update = function (data, callback) {\n\t        var _this = this;\n\t        if (callback === void 0) { callback = function () { }; }\n\t        if (this.requiedAuthenticate(callback)) {\n\t            $.ajax({\n\t                type: 'POST',\n\t                url: customer_config_1.CustomerConfig.updateCustomerUrl,\n\t                dataType: 'json',\n\t                data: data,\n\t                headers: {\n\t                    'token': this._token\n\t                }\n\t            })\n\t                .done(function (res) {\n\t                if (res.StatusCode === 200) {\n\t                    $(_this).trigger(customer_const_1.CustomerEvents.CustomerEdited, res.Data);\n\t                    _this.user = res.Data;\n\t                    callback(null, res.Data);\n\t                }\n\t                else {\n\t                    callback(res.StatusCode, res.StatusMessage);\n\t                }\n\t            })\n\t                .fail(function (request, err, status) {\n\t                callback(err, status);\n\t            });\n\t        }\n\t    };\n\t    //====== BILLS\n\t    //== CARDS\n\t    //GET CARDS\n\t    Customer.getCards = function () {\n\t        this.cards = JSON.parse(localStorage.getItem(customer_config_1.CustomerConfig.cardsStorage));\n\t        if (!this.cards) {\n\t            this.cards = [];\n\t        }\n\t        $(this).trigger(customer_const_1.CustomerEvents.CardsChange, { data: this.cards });\n\t        return this.cards;\n\t    };\n\t    Customer.saveCards = function () {\n\t        localStorage.setItem(customer_config_1.CustomerConfig.cardsStorage, JSON.stringify(this.cards));\n\t    };\n\t    //Add to Cards\n\t    Customer.addToCard = function (product) {\n\t        var existedIndex = 0;\n\t        var existed = this.cards.filter(function (pr, index) {\n\t            if (pr.Id == product.Id) {\n\t                existedIndex = index;\n\t                return true;\n\t            }\n\t            return false;\n\t        });\n\t        if (existed.length > 0) {\n\t            this.cards[existedIndex].Quantity++;\n\t        }\n\t        else {\n\t            product.Quantity = 1;\n\t            this.cards.push(product);\n\t        }\n\t        this.saveCards();\n\t        $(this).trigger(customer_const_1.CustomerEvents.CardsChange, { data: this.cards });\n\t    };\n\t    //Remove form Cards\n\t    Customer.removeCard = function (product) {\n\t        var existedIndex = 0;\n\t        var existed = this.cards.filter(function (pr, index) {\n\t            if (pr.Id == product.Id) {\n\t                existedIndex = index;\n\t                return true;\n\t            }\n\t            return false;\n\t        });\n\t        if (existed.length > 0) {\n\t            this.cards.splice(existedIndex, 1);\n\t            this.saveCards();\n\t            $(this).trigger(customer_const_1.CustomerEvents.CardsChange, { data: this.cards });\n\t        }\n\t    };\n\t    Customer.clearCard = function () {\n\t        this.cards = [];\n\t        this.saveCards();\n\t        $(this).trigger(customer_const_1.CustomerEvents.CardsChange, { data: this.cards });\n\t    };\n\t    //Decrease Card Quantity\n\t    Customer.decreaseCard = function (product) {\n\t        var existedIndex = 0;\n\t        var existed = this.cards.filter(function (pr, index) {\n\t            if (pr.Id == product.Id) {\n\t                existedIndex = index;\n\t                return true;\n\t            }\n\t            return false;\n\t        });\n\t        if (existed.length > 0) {\n\t            if (this.cards[existedIndex].Quantity == 1) {\n\t                this.cards.splice(existedIndex, 1);\n\t            }\n\t            else {\n\t                this.cards[existedIndex].Quantity--;\n\t            }\n\t            this.saveCards();\n\t            $(this).trigger(customer_const_1.CustomerEvents.CardsChange, { data: this.cards });\n\t        }\n\t    };\n\t    //GET LIST BILLS\n\t    Customer.prototype.getBills = function (callback) {\n\t        if (callback === void 0) { callback = function () { }; }\n\t        if (this.requiedAuthenticate(callback)) {\n\t            $.ajax({\n\t                type: 'POST',\n\t                url: customer_config_1.CustomerConfig.getBillsUrl,\n\t                dataType: 'json',\n\t                headers: {\n\t                    'token': this._token\n\t                }\n\t            })\n\t                .done(function (res) {\n\t                if (res.StatusCode === 200) {\n\t                    res.Data.forEach(function (bill) {\n\t                        switch (bill.Status) {\n\t                            case \"-1\":\n\t                                bill.Status = Customer.billStatus.DELETED;\n\t                                break;\n\t                            case \"0\":\n\t                                bill.Status = Customer.billStatus.DELIVERING;\n\t                                break;\n\t                            case \"1\":\n\t                                bill.Status = Customer.billStatus.WAITING;\n\t                                break;\n\t                            case \"2\":\n\t                                bill.Status = Customer.billStatus.NOT_DELIVERING;\n\t                                break;\n\t                            case \"4\":\n\t                                bill.Status = Customer.billStatus.PAYED;\n\t                                break;\n\t                            default:\n\t                                bill.Status = Customer.billStatus.UNKNOW;\n\t                        }\n\t                    });\n\t                    callback(null, res.Data);\n\t                }\n\t                else {\n\t                    callback(res.StatusCode, res.StatusMessage);\n\t                }\n\t            })\n\t                .fail(function (request, err, status) {\n\t                callback(err, status);\n\t            });\n\t        }\n\t    };\n\t    //GET BILL DETAIL\n\t    Customer.prototype.getBillDetail = function (billId, callback) {\n\t        if (!this.requiedAuthenticate(callback))\n\t            return;\n\t        var form = new FormData();\n\t        form.append(\"BillId\", billId);\n\t        var settings = {\n\t            \"async\": true,\n\t            \"crossDomain\": true,\n\t            \"url\": customer_config_1.CustomerConfig.getBillUrl,\n\t            \"method\": \"POST\",\n\t            \"headers\": {\n\t                \"Token\": this._token\n\t            },\n\t            \"processData\": false,\n\t            \"contentType\": false,\n\t            \"mimeType\": \"multipart/form-data\",\n\t            \"data\": form,\n\t            success: function (result, status, res) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                if (resJson.StatusCode === 200) {\n\t                    //Set status\n\t                    switch (resJson.Data.Status) {\n\t                        case \"-1\":\n\t                            resJson.Data.Status = Customer.billStatus.DELETED;\n\t                            break;\n\t                        case \"0\":\n\t                            resJson.Data.Status = Customer.billStatus.DELIVERING;\n\t                            break;\n\t                        case \"1\":\n\t                            resJson.Data.Status = Customer.billStatus.WAITING;\n\t                            break;\n\t                        case \"2\":\n\t                            resJson.Data.Status = Customer.billStatus.NOT_DELIVERING;\n\t                            break;\n\t                        case \"4\":\n\t                            resJson.Data.Status = Customer.billStatus.PAYED;\n\t                            break;\n\t                        default:\n\t                            resJson.Data.Status = Customer.billStatus.UNKNOW;\n\t                    }\n\t                    if (resJson.Data.PromotionId) {\n\t                        resJson.Data.Promotion = \"Có\";\n\t                    }\n\t                    else {\n\t                        resJson.Data.Promotion = \"Không Có\";\n\t                    }\n\t                    //Set thumbnail\n\t                    resJson.Data.BillDetails.forEach(function (product) {\n\t                        product.ProductThumb = server_config_1.ServerConfig.host + server_config_1.ServerConfig.filesPath + product.ProductThumb;\n\t                    });\n\t                    callback(null, resJson.Data);\n\t                }\n\t                else {\n\t                    callback(resJson.StatusCode, resJson.StatusMessage);\n\t                }\n\t            },\n\t            error: function (res, status, err) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                callback(resJson.StatusCode, resJson.StatusMessage);\n\t            }\n\t        };\n\t        $.ajax(settings);\n\t    };\n\t    Customer.prototype.sendBill = function (bill, callback) {\n\t        if (callback === void 0) { callback = function () { }; }\n\t        if (!this.requiedAuthenticate(callback))\n\t            return;\n\t        var form = new FormData();\n\t        form.append(\"Latitude\", bill.latitude);\n\t        form.append(\"Longitude\", bill.longitude);\n\t        form.append(\"BillDetails\", JSON.stringify(bill.details));\n\t        form.append(\"PromotionCode\", bill.promotionCode);\n\t        form.append(\"Address\", bill.address);\n\t        form.append(\"Area\", bill.area);\n\t        console.log(this._token);\n\t        var settings = {\n\t            \"async\": true,\n\t            \"crossDomain\": true,\n\t            \"url\": customer_config_1.CustomerConfig.sendBillUrl,\n\t            \"method\": \"POST\",\n\t            \"headers\": {\n\t                \"token\": this._token\n\t            },\n\t            \"processData\": false,\n\t            \"contentType\": false,\n\t            \"mimeType\": \"multipart/form-data\",\n\t            \"data\": form,\n\t            success: function (result, status, res) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                if (resJson.StatusCode === 200) {\n\t                    callback(null, resJson.Data);\n\t                }\n\t                else {\n\t                    callback(resJson.StatusCode, resJson.StatusMessage);\n\t                }\n\t            },\n\t            error: function (res, status, err) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                callback(resJson.StatusCode, resJson.StatusMessage);\n\t            }\n\t        };\n\t        $.ajax(settings);\n\t    };\n\t    //PROMOTIONS\n\t    //GET PROMOTIONS\n\t    Customer.prototype.getPromotions = function (callback) {\n\t        if (!this.requiedAuthenticate(callback))\n\t            return;\n\t        var settings = {\n\t            \"async\": true,\n\t            \"crossDomain\": true,\n\t            \"url\": customer_config_1.CustomerConfig.getPromotionsUrl,\n\t            \"method\": \"GET\",\n\t            \"headers\": {\n\t                \"token\": this._token\n\t            }\n\t        };\n\t        $.ajax(settings).done(function (res) {\n\t            if (res.StatusCode === 200) {\n\t                res.Data.forEach(function (promotion) {\n\t                    promotion.Photo = server_config_1.ServerConfig.host + server_config_1.ServerConfig.filesPath + promotion.Photo;\n\t                });\n\t                callback(null, res.Data);\n\t            }\n\t            else {\n\t                callback(res.StatusCode, res.StatusMessage);\n\t            }\n\t        })\n\t            .fail(function (request, err, status) {\n\t            callback(err, status);\n\t        });\n\t    };\n\t    //=========== STATIC METHODS ==================\n\t    //====== PRODUCTS\n\t    //GET ALL PRODUCTS\n\t    Customer.getAllProducts = function (callback) {\n\t        $.ajax({\n\t            type: 'GET',\n\t            url: customer_config_1.CustomerConfig.getAllProductsUrl,\n\t            dataType: 'json',\n\t            crossDomain: true\n\t        })\n\t            .done(function (res) {\n\t            if (res.StatusCode === 200) {\n\t                res.Data.forEach(function (product) {\n\t                    product.Thumbnail = server_config_1.ServerConfig.host + server_config_1.ServerConfig.filesPath + product.Thumbnail;\n\t                });\n\t                callback(null, res.Data);\n\t            }\n\t            else {\n\t                callback(res.StatusCode, res.StatusMessage);\n\t            }\n\t        })\n\t            .fail(function (request, err, status) {\n\t            callback(err, status);\n\t        });\n\t    };\n\t    Customer.getAllBlogs = function (callback) {\n\t        var settings = {\n\t            \"async\": true,\n\t            \"crossDomain\": true,\n\t            \"url\": customer_config_1.CustomerConfig.getBlogsUrl,\n\t            \"method\": \"GET\"\n\t        };\n\t        $.ajax(settings).done(function (response) {\n\t            callback(null, response);\n\t        }).fail(function (request, err, status) {\n\t            callback(err, status);\n\t        });\n\t    };\n\t    //Events\n\t    Customer.events = customer_const_1.CustomerEvents;\n\t    Customer.billStatus = customer_const_1.BillStatus;\n\t    //Bill Info\n\t    Customer.cards = [];\n\t    return Customer;\n\t}());\n\texports.Customer = Customer;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar employee_config_1 = __webpack_require__(3);\n\tvar Employee = (function () {\n\t    function Employee() {\n\t    }\n\t    Employee.getAllCategory = function (callback) {\n\t        var settings = {\n\t            \"async\": true,\n\t            \"crossDomain\": true,\n\t            \"url\": employee_config_1.EmployeeConfig.GetAllCategoryUrl,\n\t            \"method\": \"GET\",\n\t            success: function (result, status, res) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                if (resJson.StatusCode === 200) {\n\t                    callback(null, resJson.Data);\n\t                }\n\t                else {\n\t                    callback(resJson.StatusCode, resJson.StatusMessage);\n\t                }\n\t            },\n\t            error: function (res, status, err) {\n\t                var resJson = JSON.parse(res.responseText);\n\t                callback(resJson.StatusCode, resJson.StatusMessage);\n\t            }\n\t        };\n\t        $.ajax(settings);\n\t    };\n\t    return Employee;\n\t}());\n\texports.Employee = Employee;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar customer_1 = __webpack_require__(7);\n\tvar employee_1 = __webpack_require__(8);\n\tmodule.exports = {\n\t    Customer: customer_1.Customer,\n\t    Employee: employee_1.Employee\n\t};\n\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// innoway.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 812b44603ffc03dce8d7","export const ServerConfig = {\n    host: 'http://phincafe.vn',\n    filesPath: '/uploads/',\n    apiPath: '/apis/v1/',\n    FBAPI: '893757327425340',\n    GoogleAPI: '235416124042-2papc83kbjf14g3m9on0cal3bmihdqm9.apps.googleusercontent.com' //Local\n    // GoogleAPI: '235416124042-r3r85n38mdhbqnq9joka6573bp98o0es.apps.googleusercontent.com'\n}\n\nexport const APIPath = ServerConfig.host+ServerConfig.apiPath;\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/configs/server.config.ts","import { ServerConfig ,APIPath} from './server.config'\n\nexport const CustomerConfig = {\n    //KEYS\n    authTokenStorage    : 'innoway.Customer.auth.token',\n    cardsStorage        : 'innoway.Customer.cards',\n    //API\n    loginUrl            : APIPath+'CustomerLogin',\n    signUpUrl           : APIPath+'Register',\n    updateCustomerUrl   : APIPath+'EditCustomer',\n    getBillsUrl         : APIPath+'GetListBillFromCustomer',\n    getBillUrl          : APIPath+'GetBill',\n    getAllProductsUrl   : APIPath+'GetAllProduct',\n    sendBillUrl         : APIPath+'SendBill',\n    addFeedbackUrl      : APIPath+'AddFeedback',\n    getPromotionsUrl    : APIPath+'Promotions',\n    getCustomerUrl      : APIPath+'GetCustomer',\n    getBlogsUrl         : ServerConfig.host+'/blog/wp-json/posts',\n}\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/configs/customer.config.ts","import { ServerConfig ,APIPath} from './server.config'\n\nexport const EmployeeConfig = {\n    GetAllCategoryUrl       : APIPath+'GetAllCategory',\n}\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/configs/employee.config.ts","import { ServerConfig } from './server.config';\ndeclare var $:any,window:any,FB:any;\n\n//Facebook Config\n\n\nexport const FBConfig= () => {\n    var d = document;\n    var s = 'script';\n    var id = 'facebook-jssdk';\n    window.fbAsyncInit = function() {\n        FB.init({\n        appId      : ServerConfig.FBAPI,\n        xfbml      : true,\n        version    : 'v2.9'\n        });\n        FB.AppEvents.logPageView();\n    };\n    var js:any, fjs:any = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) {return;}\n    js = d.createElement(s); js.id = id;\n    js.src = \"//connect.facebook.net/en_US/sdk.js\";\n    fjs.parentNode.insertBefore(js, fjs);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/configs/fb.config.ts","import { ServerConfig } from './server.config';\ndeclare var $:any,window:any,gapi:any;\n\nexport const GoogleConfig = ()=>{\n    var d = document;\n    var s = 'script';\n    var id = 'google-jssdk';\n\tvar m = d.getElementsByTagName('head')[0];\n\tvar meta = d.createElement('meta');\n\tmeta.name = 'google-signin-client_id';\n\tmeta.content = ServerConfig.GoogleAPI;\n\tm.parentNode.insertBefore(meta,m)\n    var js:any, fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) {return;}\n    js = d.createElement(s); js.id = id;\n    js.src = \"https://apis.google.com/js/api.js\";\n    js.async = true;\n    js.onload = function(){\n        gapi.load('auth2', () => {\n            // Initialize `auth2`\n            gapi.auth2.init();\n        });\n    };\n    fjs.parentNode.insertBefore(js, fjs);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/configs/google.config.ts","\n\nexport const CustomerEvents = {\n    AuthStateChange : 'AuthStateChange',\n    CustomerEdited  : 'CustomerEdited', \n    //CARD EVENT\n    CardsChange     : 'CardsChange',\n\n}\n\nexport const BillStatus = {\n    NOT_DELIVERING  : \"Đang điều phối\",\n    WAITING         : \"Đã điều phối\",\n    DELIVERING      : \"Đang giao\",\n    PAYED           : \"Đã thanh toán\",\n    DELETED         : \"Đã huỷ\",\n    UNKNOW          : \"Không xác định\"\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/constants/customer.const.ts","import { CustomerConfig } from './configs/customer.config';\nimport { ServerConfig } from './configs/server.config';\nimport { CustomerEvents,BillStatus } from './constants/customer.const';\nimport { FBConfig  } from './configs/fb.config';\nimport { GoogleConfig } from './configs/google.config';\ndeclare var $:any,FB:any,gapi:any,window:any;\nFBConfig();\nGoogleConfig();\nexport class Customer {\n    //Events\n    public static events = CustomerEvents;\n    public static billStatus = BillStatus;\n    //User Info\n    private _token:string;\n    public user:any;\n    public authenticated: boolean = false;\n    //Bill Info\n    public static cards:any[] = [];\n\n    constructor(token:string = null){\n        //Check FB Login\n        //Check Google Login\n        \n        if(this instanceof Customer){\n            if(token == null){\n                token = localStorage.getItem(CustomerConfig.authTokenStorage);\n            }\n            if(token != null){\n                this.loginWithToken(token);\n            }\n        }\n        \n    } \n    private requiedAuthenticate(callback:any = ()=>{}){\n        if(!this.authenticated){\n            callback('PERMISSION ERROR',\"You don't have permission to access\");\n        }\n        return this.authenticated\n    }\n    //====== Auth\n    //LOGIN\n    public login(phone:string,password:string,callback:any = ()=>{}){\n        $.ajax({\n            type: 'POST',\n            url: CustomerConfig.loginUrl,\n            dataType:'json',\n            data: {\n                Phone   : phone,\n                Password: password\n            }\n        })\n        .done((res:any) => {\n            if(res.StatusCode === 200){\n                this.user = res.Data;\n                this._token = res.Data.Token;\n                this.authenticated = true;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                localStorage.setItem(CustomerConfig.authTokenStorage,res.Data.Token);\n                callback(null,res.Data);\n            }else{\n                this.authenticated = false;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                callback(res.StatusCode,res.StatusMessage);\n            }\n            \n        })\n        .fail((request:any,err:any,status:any)=>{\n            this.authenticated = false;\n            $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n            callback(err,status);\n        });\n    }\n    //GET CUSTOMER\n    public loginWithToken(token:string,callback:any = ()=>{}){\n        $.ajax({\n            type: 'POST',\n            url: CustomerConfig.getCustomerUrl,\n            dataType: 'json',\n            headers: {\n                'token': token\n            }\n        })\n        .done((res:any) => {\n            if(res.StatusCode === 200){\n                this.user = res.Data;\n                this._token = res.Data.Token;\n                this.authenticated = true;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                localStorage.setItem(CustomerConfig.authTokenStorage,res.Data.Token);\n                callback(null,res.Data);\n            }else{\n                this.authenticated = false;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                callback(res.StatusCode,res.StatusMessage);\n            }\n        })\n        .fail((request:any,err:any,status:any)=>{\n            this.authenticated = false;\n            $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n            callback(err,status);\n        })\n    }\n    //LOGIN WITH GOOGLE\n    public loginWithGoogle(callback:any=()=>{}){\n        var self = this;\n        var auth2 = gapi.auth2.getAuthInstance();\n        // Sign-In\n        auth2.signIn()\n        .then((profile:any)=>{\n            // var idToken = profile.getAuthResponse().id_token;\n            // callback(null,profile.getId());\n            self.getUserWithProvider('google',profile.getId(),callback);\n        },(error:any)=>{\n            callback('Authentication failed.',error);\n        });\n    }\n    //LOGIN WITH FACEBOOK\n    public loginWithFacebook(callback:any = ()=>{}){\n        var self = this;\n        FB.login(function(response:any) {\n            if (response.authResponse) {\n                // callback(null,FB.getAccessToken());\n                // callback(null,FB.getUserID());\n                self.getUserWithProvider('facebook',FB.getUserID(),callback);\n            } else {\n                callback('User cancelled login or did not fully authorize.',null);\n            }\n        });\n    }\n\n    private getUserWithProvider(provider:string,token:string,callback:any = ()=>{}){\n        var form = new FormData();\n        form.append(\"Method\", provider);\n        form.append(\"Token\", token);\n\n        var settings = {\n            \"async\": true,\n            \"crossDomain\": true,\n            \"url\": CustomerConfig.loginUrl,\n            \"method\": \"POST\",\n            \"processData\": false,\n            \"contentType\": false,\n            \"mimeType\": \"multipart/form-data\",\n            \"data\": form,\n            success: (result:any,status:any,res:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                if(resJson.StatusCode === 200){\n                    this.user = resJson.Data;\n                    this._token = resJson.Data.Token;\n                    this.authenticated = true;\n                    $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                    localStorage.setItem(CustomerConfig.authTokenStorage,resJson.Data.Token);\n                    callback(null,resJson.Data);\n                }else{\n                    this.authenticated = false;\n                    $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                    callback('User not signup',token);\n                }\n            },\n            error: (res:any,status:any,err:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                this.authenticated = false;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                callback('User not signup',token);\n            }\n        }\n\n        $.ajax(settings);\n    }\n\n    //LOGOUT\n    public logout(){\n        FB.logout();\n        // Get `GoogleAuth` instance\n        var auth2 = gapi.auth2.getAuthInstance();\n        auth2.signOut();\n        localStorage.removeItem(CustomerConfig.authTokenStorage);\n        this._token = null;\n        this.user = null;\n        this.authenticated = false;\n    }\n    //SIGNUP\n    public signUp(data:any,callback:any = ()=>{}){\n\n        var form = new FormData();\n        form.append(\"Phone\", data.phone);\n        form.append(\"Password\", data.password);\n        form.append(\"Fullname\", data.fullName);\n        form.append(\"Email\", data.email);\n        form.append(\"FacebookToken\", \"\");\n        form.append(\"GoogleToken\", \"\");\n\n        var settings = {\n            async: true,\n            crossDomain: true,\n            url: CustomerConfig.signUpUrl,\n            method: \"POST\",\n            processData: false,\n            contentType: false,\n            mimeType: \"multipart/form-data\",\n            data: form,\n            success: (result:any,status:any,res:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                if(resJson.StatusCode === 200){\n                    this.user = resJson.Data;\n                    this._token = resJson.Data.Token;\n                    this.authenticated = true;\n                    $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                    localStorage.setItem(CustomerConfig.authTokenStorage,resJson.Data.Token);\n                    callback(null,resJson.Data);\n                }else{\n                    this.authenticated = false;\n                    $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                    callback(resJson.StatusCode,resJson.StatusMessage);\n                }\n            },\n            error: (res:any,status:any,err:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                this.authenticated = false;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                callback(resJson.StatusCode,resJson.StatusMessage);\n            }\n        }\n        $.ajax(settings);\n    }\n    public signUpWithProvider(provider:string,token:string,data:any,callback:any = ()=>{}){\n        var form = new FormData();\n        form.append(\"Phone\", data.phone);\n        form.append(\"Password\", \"\");\n        form.append(\"Fullname\", data.fullName);\n        form.append(\"Email\", data.email);\n        switch(provider){\n            case 'facebook':\n                form.append(\"FacebookToken\", token);\n                form.append(\"GoogleToken\", \"\");\n                break;\n            case 'google':\n                form.append(\"FacebookToken\", \"\");\n                form.append(\"GoogleToken\", token);\n                break;\n        }\n        var settings = {\n            async: true,\n            crossDomain: true,\n            url: CustomerConfig.signUpUrl,\n            method: \"POST\",\n            processData: false,\n            contentType: false,\n            mimeType: \"multipart/form-data\",\n            data: form,\n            success: (result:any,status:any,res:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                if(resJson.StatusCode === 200){\n                    this.user = resJson.Data;\n                    this._token = resJson.Data.Token;\n                    this.authenticated = true;\n                    $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                    localStorage.setItem(CustomerConfig.authTokenStorage,resJson.Data.Token);\n                    callback(null,resJson.Data);\n                }else{\n                    this.authenticated = false;\n                    $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                    callback(resJson.StatusCode,resJson.StatusMessage);\n                }\n            },\n            error: (res:any,status:any,err:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                this.authenticated = false;\n                $(this).trigger(CustomerEvents.AuthStateChange,this.authenticated);\n                callback(resJson.StatusCode,resJson.StatusMessage);\n            }\n        }\n        $.ajax(settings);\n    }\n    //Update Customer\n    public update(data:any,callback:any = ()=>{}){\n        if(this.requiedAuthenticate(callback)){\n            $.ajax({\n                type: 'POST',\n                url: CustomerConfig.updateCustomerUrl,\n                dataType: 'json',\n                data: data,\n                headers: {\n                    'token': this._token\n                }\n            })\n            .done((res:any) => {\n                if(res.StatusCode === 200){\n                    $(this).trigger(CustomerEvents.CustomerEdited,res.Data);\n                    this.user = res.Data;\n                    callback(null,res.Data);\n                }else{\n                    callback(res.StatusCode,res.StatusMessage);\n                }\n            })\n            .fail((request:any,err:any,status:any)=>{\n                callback(err,status);\n            });\n        }\n    }\n    //====== BILLS\n    //== CARDS\n    //GET CARDS\n    public static getCards(){\n        this.cards = JSON.parse(localStorage.getItem(CustomerConfig.cardsStorage));\n        if(!this.cards){\n            this.cards = [];\n        }\n        $(this).trigger(CustomerEvents.CardsChange,{ data: this.cards });\n        return this.cards;\n    }\n    public static saveCards(){\n        localStorage.setItem(CustomerConfig.cardsStorage,JSON.stringify(this.cards));\n    }\n    //Add to Cards\n    public static addToCard(product:any){\n        var existedIndex = 0;\n        var existed = this.cards.filter((pr:any,index:number)=>{\n            if(pr.Id == product.Id){\n                existedIndex = index;\n                return true;\n            }\n            return false;\n        })\n        if(existed.length > 0){\n            this.cards[existedIndex].Quantity++;\n        }else{\n            product.Quantity = 1;\n            this.cards.push(product);\n        }\n        this.saveCards();\n        $(this).trigger(CustomerEvents.CardsChange,{ data: this.cards });\n    }\n    //Remove form Cards\n    public static removeCard(product:any){\n        var existedIndex = 0;\n        var existed = this.cards.filter((pr:any,index:number)=>{\n            if(pr.Id == product.Id){\n                existedIndex = index;\n                return true;\n            }\n            return false;\n        })\n        if(existed.length > 0){\n            this.cards.splice(existedIndex,1);\n            this.saveCards();\n            $(this).trigger(CustomerEvents.CardsChange,{ data: this.cards });\n        }\n    }\n\n    public static clearCard(){\n        this.cards = [];\n        this.saveCards();\n        $(this).trigger(CustomerEvents.CardsChange,{ data: this.cards });\n    }\n\n    //Decrease Card Quantity\n    public static decreaseCard(product:any){\n        var existedIndex = 0;\n        var existed = this.cards.filter((pr:any,index:number)=>{\n            if(pr.Id == product.Id){\n                existedIndex = index;\n                return true;\n            }\n            return false;\n        })\n        if(existed.length > 0){\n            if(this.cards[existedIndex].Quantity == 1){\n                this.cards.splice(existedIndex,1);\n            }else{\n                this.cards[existedIndex].Quantity--;\n            }\n            this.saveCards();\n            $(this).trigger(CustomerEvents.CardsChange,{ data: this.cards });\n        }\n    }\n    //GET LIST BILLS\n    public getBills(callback:any = ()=>{}){\n        if(this.requiedAuthenticate(callback)){\n            $.ajax({\n                type: 'POST',\n                url: CustomerConfig.getBillsUrl,\n                dataType: 'json',\n                headers: {\n                    'token': this._token\n                }\n            })\n            .done((res:any) => {\n                if(res.StatusCode === 200){\n                    res.Data.forEach((bill:any) => {\n                        switch(bill.Status){\n                            case \"-1\":\n                                bill.Status = Customer.billStatus.DELETED\n                                break;\n                            case \"0\":\n                                bill.Status = Customer.billStatus.DELIVERING\n                                break;\n                            case \"1\":\n                                bill.Status = Customer.billStatus.WAITING\n                                break;\n                            case \"2\":\n                                bill.Status = Customer.billStatus.NOT_DELIVERING\n                                break;\n                            case \"4\":\n                                bill.Status = Customer.billStatus.PAYED\n                                break;\n                            default:\n                                bill.Status = Customer.billStatus.UNKNOW\n                        }\n                    });\n                    callback(null,res.Data);\n                }else{\n                    callback(res.StatusCode,res.StatusMessage);\n                }\n            })\n            .fail((request:any,err:any,status:any)=>{\n                callback(err,status);\n            });\n        } \n    }\n\n    //GET BILL DETAIL\n    public getBillDetail(billId:string,callback:any){\n        if(!this.requiedAuthenticate(callback)) return;\n        var form = new FormData();\n        form.append(\"BillId\", billId);\n        var settings = {\n            \"async\": true,\n            \"crossDomain\": true,\n            \"url\": CustomerConfig.getBillUrl,\n            \"method\": \"POST\",\n            \"headers\": {\n                \"Token\": this._token\n            },\n            \"processData\": false,\n            \"contentType\": false,\n            \"mimeType\": \"multipart/form-data\",\n            \"data\": form,\n            success: (result:any,status:any,res:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                if(resJson.StatusCode === 200){\n                    //Set status\n                    switch(resJson.Data.Status){\n                        case \"-1\":\n                            resJson.Data.Status = Customer.billStatus.DELETED\n                            break;\n                        case \"0\":\n                            resJson.Data.Status = Customer.billStatus.DELIVERING\n                            break;\n                        case \"1\":\n                            resJson.Data.Status = Customer.billStatus.WAITING\n                            break;\n                        case \"2\":\n                            resJson.Data.Status = Customer.billStatus.NOT_DELIVERING\n                            break;\n                        case \"4\":\n                            resJson.Data.Status = Customer.billStatus.PAYED\n                            break;\n                        default:\n                            resJson.Data.Status = Customer.billStatus.UNKNOW\n                    }\n                    if(resJson.Data.PromotionId){\n                        resJson.Data.Promotion = \"Có\";\n                    }else{\n                        resJson.Data.Promotion = \"Không Có\";\n                    }\n                    //Set thumbnail\n                    resJson.Data.BillDetails.forEach((product:any) => {\n                        product.ProductThumb = ServerConfig.host+ServerConfig.filesPath+product.ProductThumb;\n                    });\n                    callback(null,resJson.Data);\n                }else{\n                    callback(resJson.StatusCode,resJson.StatusMessage);\n                }\n            },\n            error: (res:any,status:any,err:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                callback(resJson.StatusCode,resJson.StatusMessage);\n            }\n        }\n        $.ajax(settings);\n    }\n\n    public sendBill(bill:any,callback:any = ()=>{}){\n        if(!this.requiedAuthenticate(callback)) return;\n        var form = new FormData();\n        form.append(\"Latitude\", bill.latitude);\n        form.append(\"Longitude\", bill.longitude);\n        form.append(\"BillDetails\", JSON.stringify(bill.details));\n        form.append(\"PromotionCode\", bill.promotionCode);\n        form.append(\"Address\", bill.address);\n        form.append(\"Area\", bill.area);\n        console.log(this._token);\n        var settings = {\n            \"async\": true,\n            \"crossDomain\": true,\n            \"url\": CustomerConfig.sendBillUrl,\n            \"method\": \"POST\",\n            \"headers\": {\n                \"token\": this._token\n            },\n            \"processData\": false,\n            \"contentType\": false,\n            \"mimeType\": \"multipart/form-data\",\n            \"data\": form,\n            success: (result:any,status:any,res:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                if(resJson.StatusCode === 200){\n                    callback(null,resJson.Data);\n                }else{\n                    callback(resJson.StatusCode,resJson.StatusMessage);\n                }\n            },\n            error: (res:any,status:any,err:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                callback(resJson.StatusCode,resJson.StatusMessage);\n            }\n        }\n        $.ajax(settings);\n    }\n    //PROMOTIONS\n    //GET PROMOTIONS\n    public getPromotions(callback:any){\n        if(!this.requiedAuthenticate(callback)) return;\n        var settings = {\n            \"async\": true,\n            \"crossDomain\": true,\n            \"url\": CustomerConfig.getPromotionsUrl,\n            \"method\": \"GET\",\n            \"headers\": {\n                \"token\": this._token\n            }\n        }\n\n        $.ajax(settings).done(function (res:any) {\n            if(res.StatusCode === 200){\n                res.Data.forEach((promotion:any) => {\n                    promotion.Photo = ServerConfig.host+ServerConfig.filesPath+promotion.Photo;\n                });\n                callback(null,res.Data);\n            }else{\n                callback(res.StatusCode,res.StatusMessage);\n            }\n        })\n        .fail((request:any,err:any,status:any)=>{\n            callback(err,status);\n        });\n    }\n    //=========== STATIC METHODS ==================\n    //====== PRODUCTS\n    //GET ALL PRODUCTS\n    public static getAllProducts(callback:any){\n    \n        $.ajax({\n            type: 'GET',\n            url: CustomerConfig.getAllProductsUrl,\n            dataType: 'json',\n            crossDomain: true\n        })\n        .done((res:any) => {\n            if(res.StatusCode === 200){\n                res.Data.forEach((product:any) => {\n                    product.Thumbnail = ServerConfig.host+ServerConfig.filesPath+product.Thumbnail;\n                });\n                callback(null,res.Data);\n            }else{\n                callback(res.StatusCode,res.StatusMessage);\n            }\n        })\n        .fail((request:any,err:any,status:any)=>{\n            callback(err,status);\n        });\n    }  \n\n    public static getAllBlogs(callback:any){\n        var settings = {\n            \"async\": true,\n            \"crossDomain\": true,\n            \"url\": CustomerConfig.getBlogsUrl,\n            \"method\": \"GET\"\n        }\n\n        $.ajax(settings).done(function (response:any) {\n            callback(null,response);\n        }).fail((request:any,err:any,status:any)=>{\n            callback(err,status);\n        });\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/customer.ts","import { EmployeeConfig } from './configs/employee.config';\nimport { ServerConfig } from './configs/server.config';\ndeclare var $:any;\n\nexport class Employee {\n\n    constructor(){}\n\n    public static getAllCategory(callback:any){\n        var settings = {\n            \"async\": true,\n            \"crossDomain\": true,\n            \"url\": EmployeeConfig.GetAllCategoryUrl,\n            \"method\": \"GET\",\n            success: (result:any,status:any,res:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                if(resJson.StatusCode === 200){\n                    callback(null,resJson.Data);\n                }else{\n                    callback(resJson.StatusCode,resJson.StatusMessage);\n                }\n            },\n            error: (res:any,status:any,err:any)=>{\n                var resJson = JSON.parse(res.responseText);\n                callback(resJson.StatusCode,resJson.StatusMessage);\n            }\n        }\n\n        $.ajax(settings);\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/employee.ts","import { Customer } from './customer';\nimport { Employee } from './employee';\n\ndeclare var module:any;\n\nmodule.exports = {\n    Customer: Customer,\n    Employee: Employee\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/module.ts"],"sourceRoot":""}