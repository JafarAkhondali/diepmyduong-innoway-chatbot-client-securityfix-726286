!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("innoway_chatbot",[],e):"object"==typeof exports?exports.innoway_chatbot=e():t.innoway_chatbot=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(4)},function(t,e){"use strict";e.DefaultConfig={host:"https://jerry-chatbot.herokuapp.com/",facebook:{app_id:"143366482876596"}}},function(t,e,n){"use strict";var o=n(1),i=function(){function t(){}return t.apiUrl=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=o.DefaultConfig.host;return n&&Object.keys(n).map(function(e){t.replace("/{{"+e+"}}/g",n[e])}),e&&(t+="?",Object.keys(e).map(function(n){t+=n+"="+e[n]+"&"}),t=t.slice(0,-1)),i+t},t}();e.URL=i},function(t,e,n){"use strict";var o=n(1);e.FBConfig=function(){var t=document,e="script",n="facebook-jssdk";window.fbAsyncInit=function(){FB.init({appId:o.DefaultConfig.facebook.app_id,xfbml:!0,version:"v2.9"}),FB.AppEvents.logPageView()};var i,a=t.getElementsByTagName(e)[0];t.getElementById(n)||(i=t.createElement(e),i.id=n,i.src="https://connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(i,a))}},function(t,e,n){"use strict";var o=n(6),i=n(5),a=n(3);a.FBConfig(),t.exports={User:o.User,Page:i.Page}},function(t,e,n){"use strict";var o=n(2),i=function(){function t(t){this._token=t}return t.prototype.getSettings=function(t){void 0===t&&(t=function(){});var e=this,n={async:!0,crossDomain:!0,url:o.URL.apiUrl("api/page/settings"),method:"GET",headers:{access_token:e._token}};$.ajax(n).done(function(e){t(null,e)}).fail(function(e,n,o){t(n,o)})},t.prototype.activeSetting=function(t,e){void 0===e&&(e=function(){});var n=this,i={async:!0,crossDomain:!0,url:o.URL.apiUrl("api/page/settings/active"),method:"POST",headers:{access_token:n._token,"content-type":"application/json"},processData:!1,data:JSON.stringify(t)};$.ajax(i).done(function(t){e(null,t)}).fail(function(t,n,o){e(n,o)})},t.prototype.deActiveSetting=function(t,e){void 0===e&&(e=function(){});var n=this,i={async:!0,crossDomain:!0,url:o.URL.apiUrl("api/page/settings/deactive"),method:"POST",headers:{access_token:n._token,"content-type":"application/json"},processData:!1,data:JSON.stringify({types:t})};$.ajax(i).done(function(t){e(null,t)}).fail(function(t,n,o){e(n,o)})},t.SettingTypes={GREETING:"greeting",PRESISTENT_MENU:"persistent_menu",GET_STARTED:"get_started"},t}();e.Page=i},function(t,e,n){"use strict";var o=n(2),i=function(){function t(e){void 0===e&&(e=null),this.authenticated=!1;var n=this;FB.getLoginStatus(function(e){console.log("LOGIN STATUS ",e),"connected"===e.status?(n._token=e.authResponse.accessToken,n.authenticated=!0,$(n).trigger(t.EventTypes.AUTHENTICATE_STATECHANGE,n.authenticated)):n.loginWithFacebook()})}return t.prototype.isAuthenticated=function(t){return void 0===t&&(t=function(){}),this.authenticated||t("PERMISSION ERROR","You don't have permission to access"),this.authenticated},t.prototype.loginWithFacebook=function(e){void 0===e&&(e=function(){});var n=this;FB.login(function(o){o.authResponse?(n._token=o.authResponse.accessToken,n.authenticated=!0,e(null,o.authResponse)):(n._token=null,n.authenticated=!1,e("User cancelled login or did not fully authorize.",null)),$(n).trigger(t.EventTypes.AUTHENTICATE_STATECHANGE,n.authenticated)})},t.prototype.logout=function(){FB.logout(),this._token=null,this.user=null,this.authenticated=!1},t.prototype.getPages=function(t){void 0===t&&(t=function(){});var e=this;if(e.isAuthenticated(t)){var n={async:!0,crossDomain:!0,url:o.URL.apiUrl("api/me/pages"),method:"GET",headers:{access_token:this._token}};$.ajax(n).done(function(e){t(null,e)}).fail(function(e,n,o){t(n,o)})}},t.prototype.subscribePage=function(e,n){void 0===n&&(n=function(){});var i=this,a={async:!0,crossDomain:!0,url:o.URL.apiUrl("api/me/pages/subscribe",{page_token:e}),method:"POST",headers:{access_token:this._token}};$.ajax(a).done(function(e){$(i).trigger(t.EventTypes.PAGE_STATECHANGE,!0),n(null,e)}).fail(function(t,e,o){n(e,o)})},t.prototype.unSubscribePage=function(e,n){void 0===n&&(n=function(){});var i=this,a={async:!0,crossDomain:!0,url:o.URL.apiUrl("api/me/pages/subscribe",{page_token:e}),method:"DELETE",headers:{access_token:this._token}};$.ajax(a).done(function(e){$(i).trigger(t.EventTypes.PAGE_STATECHANGE,!1),n(null,e)}).fail(function(t,e,o){n(e,o)})},t.cards=[],t.EventTypes={AUTHENTICATE_STATECHANGE:"innoway_chatbot.user.authenticate",PAGE_STATECHANGE:"innoway_chatbot.user.page_state"},t}();e.User=i}])});
//# sourceMappingURL=innoway_chatbot.min.js.map